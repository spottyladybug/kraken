import Repository from 'src/api/repository';

const state = {
    reguts: [
        {
          time: '2012-09-11T20:00',
          cords: [[59.94379302595285,30.30965359487853], [59.9520890481481,30.277045057585894], [59.96000931813493,30.240652845671818],
                 [59.97205825893221,30.140754229653542], [59.98857537087425,29.990378863442594], [60.00989773874338,29.832450396645722],
                 [60.043916165075416,29.70954085074728], [60.04151197614466,29.601050860512906], [59.99055328494795,29.635040157503912],
                 [59.942329577267174,29.832643756331546], [59.928546599542116,30.00979829734719], [59.91723873415458,30.191830313646953],
                 [59.917583496509366,30.260494864428193], [59.9324048788073,30.278347647631314], [59.944452800390664,30.310531558792555]],
        },
        {
          time: '2012-02-26T13:00'
        }
    ],
    boats: [
        {
          id: 1,
          cords: [[59.94376383226636,30.30572504023785], [59.95857348144599,30.251480045120672], [59.970278736782134,30.184188785355055],
                [59.968557635962966,30.084625186722228], [59.9811994625523,29.970605237525266], [60.00710605716098,29.823865914317228],
                [60.04627904421609,29.735288643809408], [60.04162334293775,29.637076745481284], [60.019337199177,29.60717715617732],
                [59.970151497419906,29.666523264032556], [59.95678892539621,29.754653091235213]],
        },
        {
          id: 2,
          cords: [[59.94376383226636,30.30572504023785], [59.95857348144599,30.251480045120672], [59.970278736782134,30.184188785355055], 
                [59.96550981578456,30.001315215995007]],
        },
        {
          id: 3,
          cords: [[59.94376383226636,30.30572504023785], [59.95857348144599,30.251480045120672], [59.970278736782134,30.184188785355055], 
          [59.977193674248944,30.015199271268912]],
        },
        {
          id: 4,
          cords: [[59.94376383226636,30.30572504023785], [59.95857348144599,30.251480045120672], [59.970278736782134,30.184188785355055],
                [60.01598089395001,29.908981170749694]],
        }
      ],
};

const getters = {
    boats(state) {
        return state.boats;
    },
    reguts(state) {
        return state.reguts;
    }
};

const mutations = {
    setBoats (state, boats) {
        state.boats = boats;
    },
    setRegats (state, reguts) {
        state.reguts = reguts;
    },
};

const actions = {

    async setBoatsRequest(context) {
        const req = await Repository.get('boats');
        context.commit('setBoats', req.data);
    },

    async getRegat(context) {
        const req = await Repository.get('regutsTIME');
        context.commit('setRegats', req.data);
    },
};

export default {
    state,
    getters,
    actions,
    mutations,
}