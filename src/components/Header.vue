<template>
<div class="header">
    <b-row>
    <b-col lg="6" class="start" >
    <b-nav tabs align="flex-start">
        <b-nav-item style="margin-left: 54px">
            <router-link :to="{ name: 'home' }">
            <svg width="176" height="56" viewBox="0 0 176 56" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M0.991559 20.7112C0.991559 28.3386 9.19099 29.3682 9.19099 34.86C9.19099 36.7668 8.35198 37.4533 7.01719 37.4533C5.6824 37.4533 4.84339 36.7668 4.84339 34.86V32.9531H0.877149V34.593C0.877149 38.8643 3.01281 41.3051 7.1316 41.3051C11.2504 41.3051 13.386 38.8643 13.386 34.593C13.386 26.9656 5.18662 25.9359 5.18662 20.4442C5.18662 18.5374 5.94936 17.8128 7.28415 17.8128C8.61894 17.8128 9.38168 18.5374 9.38168 20.4442V21.5502H13.3479V20.7112C13.3479 16.4398 11.2504 13.9991 7.16974 13.9991C3.08909 13.9991 0.991559 16.4398 0.991559 20.7112ZM19.9846 18.1179H27.2306V14.3042H15.7896V41H27.2306V37.1863H19.9846V29.3682H25.7433V25.5546H19.9846V18.1179ZM39.1356 14.3042H32.9956L28.7242 41H32.5761L33.3007 36.1566H38.4491L39.1737 41H43.4069L39.1356 14.3042ZM35.8558 19.0331L37.8771 32.5336H33.8346L35.8558 19.0331ZM50.0618 18.1179H54.4476V41H58.6426V18.1179H63.0284V14.3042H50.0618V18.1179ZM77.9187 41C77.4992 40.0084 77.4611 39.055 77.4611 37.7584V33.6396C77.4611 30.8556 76.7746 28.8343 74.6771 27.9572C76.5458 27.08 77.423 25.2876 77.423 22.5417V20.4442C77.423 16.3254 75.5542 14.3042 71.2066 14.3042H64.8759V41H69.071V30.131H70.5202C72.427 30.131 73.266 31.0463 73.266 33.5252V37.7202C73.266 39.894 73.4186 40.3135 73.6474 41H77.9187ZM71.0922 18.1179C72.5796 18.1179 73.2279 18.9569 73.2279 20.8637V23.4952C73.2279 25.6308 72.2745 26.3173 70.7109 26.3173H69.071V18.1179H71.0922ZM89.5255 14.3042H83.3854L79.1141 41H82.9659L83.6905 36.1566H88.839L89.5636 41H93.7968L89.5255 14.3042ZM86.2457 19.0331L88.2669 32.5336H84.2244L86.2457 19.0331ZM103.95 31.0463V34.86C103.95 36.7668 103.111 37.4533 101.776 37.4533C100.441 37.4533 99.6022 36.7668 99.6022 34.86V20.4442C99.6022 18.5374 100.441 17.8128 101.776 17.8128C103.111 17.8128 103.95 18.5374 103.95 20.4442V23.3045H107.916V20.7112C107.916 16.4398 105.78 13.9991 101.662 13.9991C97.5428 13.9991 95.4072 16.4398 95.4072 20.7112V34.593C95.4072 38.8643 97.5428 41.3051 101.662 41.3051C105.78 41.3051 107.916 38.8643 107.916 34.593V31.0463H103.95ZM120.034 41H124.343L118.508 26.2029L124.343 14.3042H120.148L114.656 25.9359V14.3042H110.461V41H114.656V32.8006L115.953 30.3598L120.034 41Z" fill="white"/>
<path d="M130.62 38.6024C133.313 41.3446 136.364 44.4529 142.266 44.4529C148.169 44.4528 151.22 41.3446 153.913 38.6024C156.459 36.0091 158.658 33.7693 163.244 33.7693C167.831 33.7693 170.03 36.0091 172.576 38.6024C173.321 39.3614 174.444 39.2594 175.083 38.3745C175.722 37.4894 175.636 36.1566 174.891 35.3976C172.198 32.6554 169.147 29.5471 163.244 29.5471C157.342 29.5471 154.29 32.6552 151.598 35.3976C149.052 37.9909 146.853 40.2307 142.266 40.2307C137.68 40.2307 135.481 37.991 132.935 35.3976C132.19 34.6385 131.068 34.7404 130.428 35.6255C129.789 36.5105 129.875 37.8433 130.62 38.6024Z" fill="white"/>
<path d="M130.62 27.0553C133.313 29.7976 136.364 32.9058 142.266 32.9058C148.169 32.9058 151.22 29.7976 153.913 27.0553C156.459 24.462 158.658 22.2222 163.244 22.2222C167.831 22.2222 170.03 24.4619 172.576 27.0553C173.321 27.8146 174.444 27.7123 175.083 26.8272C175.722 25.9422 175.636 24.6093 174.891 23.8503C172.198 21.108 169.147 18 163.244 18C157.342 18 154.29 21.1082 151.598 23.8505C149.052 26.4438 146.853 28.6836 142.266 28.6836C137.68 28.6836 135.481 26.4439 132.935 23.8505C132.19 23.0914 131.068 23.1933 130.428 24.0784C129.789 24.9634 129.875 26.2962 130.62 27.0553Z" fill="white"/>
<path d="M174.891 46.9447C172.198 44.2024 169.147 41.0941 163.244 41.0941C157.342 41.0941 154.29 44.2023 151.598 46.9447C149.052 49.538 146.853 51.7777 142.266 51.7777C137.68 51.7777 135.481 49.5381 132.935 46.9449L132.935 46.9447C132.19 46.1858 131.068 46.2878 130.428 47.1727C129.789 48.0576 129.875 49.3905 130.62 50.1495C133.313 52.8919 136.364 56 142.266 56C148.169 56 151.22 52.8918 153.913 50.1494C156.459 47.5562 158.658 45.3164 163.244 45.3164C167.831 45.3164 170.03 47.5562 172.576 50.1494C173.321 50.9085 174.444 50.8065 175.083 49.9215C175.722 49.0365 175.636 47.7037 174.891 46.9447Z" fill="white"/>
<g clip-path="url(#clip0)">
<path d="M162.393 3.89062C157.206 -1.29638 148.795 -1.29638 143.607 3.89062C138.933 8.56462 138.407 17.3653 142.374 22.6538L153 38L163.626 22.6538C167.593 17.3653 167.067 8.56462 162.393 3.89062ZM153.129 17.5385C150.708 17.5385 148.745 15.5756 148.745 13.1538C148.745 10.7321 150.708 8.76923 153.129 8.76923C155.551 8.76923 157.514 10.7321 157.514 13.1538C157.514 15.5756 155.551 17.5385 153.129 17.5385Z" fill="white"/>
<g clip-path="url(#clip1)">
<path d="M-67.5545 -98.8059C-40.2611 -69.697 -9.32597 -36.7046 56.685 -29.5092C122.697 -22.3138 160.016 -47.8664 192.941 -70.4113C224.079 -91.7308 250.97 -110.144 302.265 -104.553C353.558 -98.962 375.851 -75.1883 401.665 -47.66C409.221 -39.6008 421.877 -39.196 429.934 -46.7525C437.992 -54.3078 438.398 -66.9664 430.842 -75.0226C403.547 -104.132 372.609 -137.122 306.599 -144.318C240.587 -151.513 203.269 -125.96 170.343 -103.415C139.205 -82.096 112.314 -63.6826 61.0194 -69.2737C9.72726 -74.8647 -12.5639 -98.6381 -38.375 -126.166C-45.9303 -134.224 -58.5876 -134.632 -66.6449 -127.076C-74.703 -119.52 -75.11 -106.863 -67.5545 -98.8059Z" fill="black"/>
<path d="M407.136 142.478C379.84 113.37 348.903 80.3766 282.891 73.1812C216.879 65.9857 179.561 91.5384 146.635 114.083C115.497 135.403 88.6058 153.816 37.3116 148.225C-13.9786 142.634 -36.2708 118.861 -62.082 91.3347L-62.0838 91.3325C-69.6395 83.2774 -82.2948 82.8696 -90.3528 90.4239C-98.41 97.9793 -98.8169 110.637 -91.2615 118.694C-63.9671 147.803 -33.0309 180.794 32.9772 187.989C98.9892 195.185 136.308 169.632 169.234 147.087C200.371 125.768 227.263 107.354 278.557 112.946C329.852 118.537 352.145 142.312 377.957 169.839C385.514 177.896 398.17 178.304 406.227 170.748C414.284 163.192 414.692 150.536 407.136 142.478Z" fill="black"/>
<circle cx="153" cy="13" r="5" fill="#17A4D2"/>
</g>
</g>
<defs>
<clipPath id="clip0">
<rect width="38" height="38" fill="white" transform="translate(134)"/>
</clipPath>
<clipPath id="clip1">
<rect width="512" height="512" fill="white" transform="translate(-56.9609 -260.396) rotate(6.22079)"/>
</clipPath>
</defs>
</svg>
            </router-link>
        </b-nav-item>
        <b-nav-item style="margin-left: 54px">
            <router-link :to="{ name: 'map' }">Мероприятия</router-link>
        </b-nav-item>
        </b-nav>
    </b-col>
    <b-col lg="6" class="end" >
    <b-nav tabs align="flex-end">
        <b-nav-item v-if="!isAuthenticated" style="margin-right: 54px" @click="showModal(true)">Войти</b-nav-item>
        <LoginModal ref="login"/>
        <b-nav-item v-if="!isAuthenticated" style="margin-right: 10em" @click="showModal(false)">Регистрация</b-nav-item>
        <RegModal ref="reg"/>
        <b-nav-item v-if="isAuthenticated" style="margin-right: 10em" @click="logout">
            Выход
            <svg width="27" height="27" viewBox="0 0 27 27" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0)">
<path d="M13.4552 24.7127H3.36377C2.74482 24.7127 2.24253 24.2103 2.24253 23.5914V3.40865C2.24253 2.78971 2.74488 2.28741 3.36377 2.28741H13.4552C14.0752 2.28741 14.5764 1.78622 14.5764 1.16617C14.5764 0.546123 14.0752 0.0448303 13.4552 0.0448303H3.36377C1.50921 0.0448303 0 1.55409 0 3.40865V23.5914C0 25.4459 1.50921 26.9551 3.36377 26.9551H13.4552C14.0752 26.9551 14.5764 26.4539 14.5764 25.8339C14.5764 25.2138 14.0752 24.7127 13.4552 24.7127Z" fill="white"/>
<path d="M26.666 12.7017L19.8487 5.97408C19.4091 5.53902 18.6983 5.54466 18.2632 5.98531C17.8282 6.42596 17.8326 7.13571 18.2745 7.57077L23.1463 12.3787H10.0915C9.4714 12.3787 8.97021 12.8799 8.97021 13.5C8.97021 14.12 9.4714 14.6213 10.0915 14.6213H23.1463L18.2745 19.4292C17.8327 19.8643 17.8293 20.574 18.2632 21.0147C18.483 21.2367 18.7723 21.3488 19.0616 21.3488C19.3464 21.3488 19.6312 21.2412 19.8487 21.0258L26.666 14.2983C26.879 14.0875 27.0001 13.8004 27.0001 13.4999C27.0001 13.1995 26.8801 12.9136 26.666 12.7017Z" fill="white"/>
</g>
<defs>
<clipPath id="clip0">
<rect width="27" height="27" fill="white"/>
</clipPath>
</defs>
</svg>
        </b-nav-item>
    </b-nav>
    </b-col>
    </b-row>
</div>
</template>
<script>
import RegModal from 'src/components/RegModal'
import LoginModal from 'src/components/LoginModal'
import { mapGetters } from "vuex";
import { AUTH_LOGOUT } from "src/store/actions/auth";
export default {
  name: "Header",
  components: {
      RegModal,
      LoginModal,
  },
  data() {
    return {
      isRegModal: false,
      isLoginModal: false,
    }
  },
    computed: {
    ...mapGetters([
      "isAuthenticated"
    ]),
  },
  methods: {
     logout: function() {
        this.$store
            .commit(AUTH_LOGOUT)
            .then(() => this.$router.push({ name: "login" }));
    },
      showModal(modal) {
          if (modal) {
              this.$refs['login'].showModalAutorization();
          } else {
              this.$refs['reg'].showModalRegistration();
          }
          
      }
  }
};
</script>
<style scoped>
.justify-content-flex-start > li:nth-child(2) > a:nth-child(1) {
 padding-top: 20px;
}
.header {
    width:100%;
    background: #17A4D2;
    display: inline-block;
    z-index: 300;
}
.start {
    justify-content: flex-start;
    align-items: flex-start;
}
.end {
    justify-content: flex-end;
    align-items: flex-end;
}
.nav {
    height: 80px;
    text-align: center;
    align-content: center;
    justify-content: inherit;
}
.nav-tabs .nav-link:focus, .nav-tabs .nav-link:hover {
    border: none;
}
a, a:hover {
    color: #FBFBFB;
}
</style>